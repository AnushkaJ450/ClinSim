% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_two_sample_mean_B.R
\name{two_sample_mean_B}
\alias{two_sample_mean_B}
\title{Validate TrialSize two-sample mean sample size using simulation}
\usage{
two_sample_mean_B(
  alpha,
  beta,
  sigma,
  k,
  margin,
  alpha_test = 0.05,
  n_sim = 10000
)
}
\arguments{
\item{alpha}{Numeric. Significance level used in the TrialSize sample size
calculation (typically 0.05).}

\item{beta}{Numeric. Type II error rate used in the TrialSize calculation,
where target power is \code{1 - beta}.}

\item{sigma}{Numeric. Common standard deviation (must be positive).}

\item{k}{Numeric. Allocation ratio \eqn{k = n1/n2}. For equal allocation use
\code{k = 1}.}

\item{margin}{Numeric. True mean difference \eqn{(\mu_2 - \mu_1)} under the
alternative used for the power calculation.}

\item{alpha_test}{Numeric. Significance level used for the t-test in the
simulation. Default is 0.05. (Often set equal to \code{alpha}.)}

\item{n_sim}{Integer. Number of simulations. Default is 10000.}
}
\value{
A list containing:
\itemize{
\item \code{n1}: Required sample size for group 1 from TrialSize.
\item \code{n2}: Corresponding sample size for group 2 implied by \code{k}.
\item \code{theoretical_power}: Target power \code{1 - beta}.
\item \code{empirical_power}: Simulated power estimate (proportion of rejections).
}
}
\description{
Computes the required sample size for a two-sample mean equality design using
TrialSize: TwoSampleMean.Equality() and then checks the achieved power
empirically via Monte Carlo simulation using a two-sample t-test with equal
variances.

This function is intended as a simulation-based check of the analytical
calculation, returning both the target (theoretical) power and the simulated
(empirical) power.
}
\details{
Data are generated under a normal model with common standard deviation
sigma. Group 1 outcomes are generated from \eqn{N(0, \sigma^2)} and
group 2 outcomes from \eqn{N(\mathrm{margin}, \sigma^2)}, where
\code{margin = mu2 - mu1}.

The simulation applies \code{\link[stats]{t.test}} with \code{var.equal = TRUE}
and rejects \eqn{H_0: \mu_1 = \mu_2} when the p-value is below \code{alpha_test}.
}
\examples{
# Example: check if TrialSize sample size achieves ~80\% power
# (requires TrialSize package)
# res <- two_sample_mean_B(alpha = 0.05, beta = 0.2, sigma = 1, k = 1, margin = 0.3,
#                          alpha_test = 0.05, n_sim = 2000)
# res$empirical_power

}
